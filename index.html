<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Distributed GPU Ray Tracing by Khrylx</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Distributed GPU Ray Tracing</h1>
      <h2 class="project-tagline">Ye Yuan, Ken Ling</h2>
      <a href="https://github.com/Khrylx/DSGPURayTracing" class="btn">View on GitHub</a>
      <a href="https://github.com/Khrylx/DSGPURayTracing/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/Khrylx/DSGPURayTracing/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="summary" class="anchor" href="#summary" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Summary</h1>

<p><strong>Recent Update:</strong> After using Woop triangle intersection test, our primary ray traversal performance speed up 1.5x!
Now we can achieve a throughput of 275+ Mrays/s for scenes with 130K+ triangles. </p>

<p>We developed a fast distributed GPU ray tracer that has the following features:  </p>

<ol>
<li>
<p><strong>Very Fast Ray Traversal</strong><br>
Even for scenes with 100K+ triangles, our ray tracer can achieve a throughput of 275+ Mrays/s on GTX 680 for primary ray using a <strong>single GPU</strong>.
And we can render a 1000x1000 picture of the scene with ambient occlusion at 60+ FPS, while its CPU counterpart stays with 0.30 FPS.<br>
We made a lot of efforts to improve the efficiency of ray traversal:</p>

<ul>
<li>We used persistent threads to achieve better work distribution.</li>
<li>We used per-ray stack for ray traversal.</li>
<li>We used while-while structure for node traversal and primitive intersection test.</li>
<li>We optimized ray-triangle intersection and ray-box intersection.</li>
<li>We also tried out speculative method, i.e., when finding a leaf, delay the primitive intersection test and keep on traversing nodes until all lanes find a leaf.<br>
After all these optimizations, our ray tracer is 20x faster than original one. And we are still working on optimizing
ray-triangle test to decrease memory bandwidth consumed.</li>
</ul>
</li>
<li><p><strong>Very Fast Parallel BVH build</strong><br>
We can build BVH of scenes with 240K+ triangles in 8 ms, while the CPU build takes nearly 2 second. We use Morton codes to encode each primitive such that we can know the exact position of each node in the array. Therefore, we can build the BVH tree in fully parallel.</p></li>
<li><p><strong>Distributed Ray Tracing across Clusters</strong><br>
We implemented a server client mechanism for the system, which allows us to render large scenes with multiple machines and GPUs. We also implemented load-balancing algorithm to cope with heterogenous nodes.</p></li>
<li>
<p><strong>Versatile</strong><br>
Our ray tracer support most functionalities of its CPU counterpart:  </p>

<ul>
<li>Monte Carlo sampling<br>
</li>
<li>Multiple types of BSDFs: refraction, glass, Fresnel reflection, e.g.</li>
<li>Multiple types of Lights: point, directional, area, hemisphere, e.g.</li>
</ul>
</li>
</ol>

<h1>
<a id="results" class="anchor" href="#results" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Results</h1>

<h2>
<a id="ray-tracing" class="anchor" href="#ray-tracing" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Ray Tracing</h2>

<p>The table illustrates the GPU acceleration of Ray Tracing on a <strong>Single GTX680 GPU</strong>.
FPS represents how many times tracer can sample each pixel for an 1000x1000-pixel scene in one second.
Rendering time is calculated using 256 samples per pixel.</p>

<p><img src="https://github.com/Khrylx/DSGPURayTracing/blob/gh-pages/images/GPU%20Ray%20Tracing%20table.png?raw=true" alt=""></p>

<h2>
<a id="parallel-bvh-building" class="anchor" href="#parallel-bvh-building" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Parallel BVH Building</h2>

<p>The table illustrates the GPU acceleration of parallel BVH tree building. As we can see from the table, the acceleration of GPU increases as the number of primitives increases.
<img src="https://github.com/Khrylx/DSGPURayTracing/blob/gh-pages/images/GPU%20BVH%20build%20table.png?raw=true" alt=""></p>

<p>In this chart, Y axis denotes Nlog(N) where N is the number of primitives. X axis is the parallel BVH building time. As is shown in the chart, the parallel BVH tree building is a Nlog(N) algorithm.
<img src="https://github.com/Khrylx/DSGPURayTracing/blob/gh-pages/images/GPU%20BVH%20build%20chart.png?raw=true" alt=""></p>

<h2>
<a id="rendered-images" class="anchor" href="#rendered-images" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Rendered Images</h2>

<p><img src="https://github.com/Khrylx/DSGPURayTracing/blob/gh-pages/images/Screen%20Shot%20GPU%20Sat%20May%20%207%2012:50:23%202016.png?raw=true" alt=""></p>

<p><img src="https://github.com/Khrylx/DSGPURayTracing/blob/gh-pages/images/Screen%20Shot%20GPU%20Sat%20May%20%207%2010:56:18%202016.png?raw=true" alt=""></p>

<p><img src="https://github.com/Khrylx/DSGPURayTracing/blob/gh-pages/images/Screen%20Shot%20GPU%20Sat%20May%20%207%2011:23:08%202016.png?raw=true" alt=""></p>

<h1>
<a id="check-point" class="anchor" href="#check-point" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Check Point</h1>

<p><a href="https://github.com/Khrylx/DSGPURayTracing/wiki">https://github.com/Khrylx/DSGPURayTracing/wiki</a></p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/Khrylx/DSGPURayTracing">Distributed GPU Ray Tracing</a> is maintained by <a href="https://github.com/Khrylx">Khrylx</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
